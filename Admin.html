<!doctype html>
<html lang="en">
<meta charset="utf-8">
<head>
	<title>Administrative Page</title>	
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body>
	<header id="my-header">
		<div class="container">
			<ul><li>
				<a href="Home.html">Home</a></li><li>
				<a href="ShowCase.html">Projects</a></li><li>				
				<a href="https://github.com/AboutTreeFittyy">GitHub</a></li><li>				
				<a href="https://www.linkedin.com/">LinkedIn</a></li><li>
				<a href="Admin.html">Temp</a></li><li>
				<a href="EncodedLiving.html">Game</a></li><li>
			</li></ul>
		</div>		
	</header>
	<section class="my-form" id="my-form">
		<div class="container">
			<h1>ShowCase Management</h1>
			<div id="imageTest"><img id="test1"><img id="test2"><img id="test3"></div>
			<form enctype="multipart/form-data" action="/upload/image" method="post">
				<h2>Add New Project:</h2>
				Title <input type="text" id="projectTitle" name="title"><br>
				Link<input type="text" id="projectLink" name="link"><br>
				Description<input type="text" id="projectDescription" name="description"><br>
				Add Skills: 
				<input type="checkbox" id="projectSkill0" name="skill">Skill 1
				<input type="checkbox" id="projectSkill1" name="skill">Skill 2
				<input type="checkbox" id="projectSkill2" name="skill">Skill 3<br>Add Image:
				<input class="button" id="projectImage" type="file"><br><br>
				<input class="button" type="button" onClick="addProject()" value="Add Item"><br><br>
				<h2>Edit Item Order:</h2>
				<div class="dropdown">
					<button class="drop">Skill 1</button>
					<div class="dropdown-skills">
						<a href="#">1</a>
						<a href="#">2</a>
						<a href="#">3</a>
					</div>
				</div>
				<div class="dropdown">
					<button class="drop">Skill 2</button>
					<div class="dropdown-skills">
						<a href="#">1</a>
						<a href="#">2</a>
						<a href="#">3</a>
					</div>
				</div>
				<div class="dropdown">
					<button class="drop">Skill 3</button>
					<div class="dropdown-skills">
						<a href="#">1</a>
						<a href="#">2</a>
						<a href="#">3</a>
					</div>
				</div>
				<h1>HomePage Management</h1>

				<h2>Add New Skill:</h2>
				Title<input type="text" name="newtitle"><br>
				Summary<input type="text" name="summary"><br>

				<h2>Remove Skill:</h2>
				<input type="radio" value="Skill" name="skillremove1">Skill 1
				<input type="radio" value="Skill" name="skillremove2">Skill 2
				<input type="radio" value="Skill" name="skillremove3">Skill 3<br>

				<h2>Change Main Picture:</h2>
				<input class="button" type="submit" value="Upload Photo">

				<h2>Change Details:</h2>
				Name<input type="text" name="name"><br>
				Description<input type="text" name="namedescription"><br>
				<input class="button" type="submit" value="Save Changes">
			</form> 
		</div>
	</section>
	<div class="container">
		<footer id="my-footer">
			<p>Author: Mathew Boland - Last Updated:September 15, 2019</p>
		</footer>
	</div>
	<script type="text/javascript" src="AdminManager.js"></script>
	<script type="text/javascript">
		function addProject(){
			//Save the text elements
			var title = document.getElementById("projectTitle").value;
			var link = document.getElementById("projectLink").value;
			var description = document.getElementById("projectDescription").value;
			//Now save which skills are selected
			var skill = [];
			//Check projectSkill ids until they don't exist anymore
			for (var i = 0; document.getElementById("projectSkill"+i) != null; i++){
				//Lastly check if the skill was selected before saving it
				if(document.getElementById("projectSkill"+i).checked === true){
					skill.push(i);
				}
			}
			//Get image from form and make copies for db
			var file = document.querySelector('input[type=file]').files[0];
			var reader = new FileReader();
			var image, mobileImage, thumbNail;
			reader.onloadend = function(){
				image = normalizeImage(reader.result);
				if(image != null){
					mobileImage = createMobileImageCopy(image);
					thumbnail = createThumbNailCopy(image);
					document.getElementById("test1").src = image;
					document.getElementById("test2").src = mobileImage;
					document.getElementById("test3").src = thumbnail;
				}else{
					alert("Invalid Photo Uploaded");
				}				
			}			
			reader.readAsDataURL(file);			
		}
	</script>
</body>
</html>